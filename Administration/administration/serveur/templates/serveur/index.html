{% extends 'serveur/main.html' %}
{% load static %}
{% block title %}Accueil{% endblock %}

{% block content %}
<div class="sidebar">
        <div class="sidebar-header">
            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Admin" class="avatar">
            <span class="admin-name">Administrateur</span>
        </div>
        <ul class="sidebar-menu">
            <li class="active"><a href="{% url 'index' %}" class="sidebar-link"><span class="icon"><i class='bx bx-home'></i></span> Dashboard</a></li>
            <li><a href="/type_serveur" class="sidebar-link"><span class="icon"><i class='bx bx-laptop'></i></span> Type de serveurs</a></li>
            <li><a href="/serveur" class="sidebar-link"><span class="icon"><i class='bx bx-server'></i></span> Serveurs</a></li>
            <li><a href="/service" class="sidebar-link"><span class="icon"><i class='bx bx-layers'></i></span> Services</a></li>
            <li><a href="/utilisateur" class="sidebar-link"><span class="icon"><i class='bx bxs-group'></i></span> Utilisateurs</a></li>
            <li><a href="/application" class="sidebar-link"><span class="icon"><i class='bx bx-mobile'></i></span> Applications</a></li>
        </ul>
    </div>
<div class="main-content">
        <section class="dashboard-header">
            <h1>DASHBOARD</h1>
            <p>Bienvenue sur le dashboard</p>
        </section>
        <section class="stats-cards">
            <div class="card">
                <div class="card-icon"><i class='bx bx-layers'></i></div>
                <div class="card-value">{{ nb_services }}</div>
                <div class="card-label">Nombres de services</div>
            </div>
            <div class="card">
                <div class="card-icon"><i class='bx bx-server' style="color:#359a7e"></i></div>
                <div class="card-value">{{ nb_serveurs }}</div>
                <div class="card-label">Nombres de serveurs</div>
            </div>
            <div class="card">
                <div class="card-icon"><i class='bx bxs-group'></i></div>
                <div class="card-value">{{ nb_utilisateurs }}</div>
                <div class="card-label">Nombres d'utilisateurs</div>
            </div>
        </section>
        <section class="chart-section">
            <div class="chart-header">
                <span class="chart-title">Nombres d'utilisateurs</span>
                <span class="chart-value">154</span>
            </div>
            <canvas id="usersChart"></canvas>
        </section>
    </div>
    <script>
        const ctx = document.getElementById('usersChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
                datasets: [{
                    label: 'Utilisateurs',
                    data: [20, 35, 50, 80, 100, 120, 300, 350, 370, 400, 420, 450],
                    borderColor: '#2ed8b6',
                    backgroundColor: 'rgba(46,216,182,0.1)',
                    tension: 0.3,
                    pointBackgroundColor: '#2ed8b6',
                    pointRadius: 4
                }]
            },
            options: {
                plugins: { legend: { display: true } },
                scales: {
                    y: { beginAtZero: true, grid: { color: '#232b3e' }, ticks: { color: '#b2becd' } },
                    x: { grid: { color: '#232b3e' }, ticks: { color: '#b2becd' } }
                }
            }
        });
    </script>

{% endblock %}